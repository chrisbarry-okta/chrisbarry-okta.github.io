<!doctype html>
<html lang="en-us">
<head>

  <title>Example Okta Sign-In Widget</title>

  <!-- Core widget js and css -->

  <script src="https://ok1static.oktacdn.com/assets/js/sdk/okta-signin-widget/1.13.0/js/okta-sign-in.min.js" type="text/javascript"></script>
  <link href="https://ok1static.oktacdn.com/assets/js/sdk/okta-signin-widget/1.13.0/css/okta-sign-in.min.css" type="text/css" rel="stylesheet">
  <!-- Optional, customizable css theme options. Link your own customized copy of this file or override styles in-line -->
  <link href="https://ok1static.oktacdn.com/assets/js/sdk/okta-signin-widget/1.13.0/css/okta-theme.css" type="text/css" rel="stylesheet">
</head>
<body>
  <!-- Render the login widget here -->
  <div id="okta-login-container"></div>

  <!-- Script to init the widget -->

  <script>
var signIn = new OktaSignIn({
  baseUrl: 'https://cbarry.oktapreview.com',
  clientId: '0oab5zg1ti2fxTenY0h7',
  redirectUri: 'https://chrisbarry-okta.github.io',
  authParams: {
    responseType: 'id_token',
    // `display: page` will initiate the OAuth2 page redirect flow
    display: 'page'
  },
  idps: [
    {
      type: 'FACEBOOK',
      id: '0oab5f3vj3xykDIx50h7'
    }
  ]
});

// The user has just landed on our login form, and has not yet authenticated
// with a Social Auth IDP.
if (!signIn.token.hasTokensInUrl()) {
  signIn.renderEl(
    {el: '#okta-login-container'},
    function success(res) {
      signIn.token.parseTokensFromUrl();
      signIn.tokenManager.add('my_id_token', res);
    },
    function error(err) {
      alert(err);
    });
} else {
  alert('error');
}
  </script>
</body>
</html>
